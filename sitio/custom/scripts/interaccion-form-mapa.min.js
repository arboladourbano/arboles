function muestraTodaLaCiudad(){$("input#user_latlng").val(null),$("input#rdonde-ciudad").prop("checked",!0),window.new_user_marker&&(window.map.removeLayer(window.new_user_marker),window.map.removeLayer(window.new_user_circle),window.new_user_marker=void 0,window.new_user_circle=void 0)}function muestraPorAca(a,r,i,o){$("input#rdonde-mapa").prop("checked",!0),a&&$("input#user_latlng").val(a+" "+r),i&&(i.panTo(new L.LatLng(a,r)),void 0!==window.new_user_marker&&null!==window.new_user_marker&&window.new_user_marker.openPopup()),o&&(valida=validarBusqueda(),valida?document.getElementById("busca_arboles").submit():e.preventDefault())}function scrollAnimado(e){$("html, body").animate({scrollTop:$(e).offset().top},300,function(){window.location.hash=e})}function validarBusqueda(){var e,a,r=!1,i=$("select#especie_id").val();i>0?(e=!0,a=!1):(e=!1,a=!0);var o=$("input#user_sabores").prop("checked"),s=$("input#rdonde-mapa").prop("checked"),n=$("input#rdonde-ciudad").prop("checked"),t=$("input#user_latlng").val();if(1==e&&i>0)var d=!0;if(1==s&&t.length>1)var c=!0;if(0==a||0==n||1==o)var u=!0;return 1==u?(1==e&&(1==d?r=!0:($("#respecies-una-modal").modal("show"),r=!1)),1==s&&(1==c?r=!0:($("#rdonde-ciudad-modal").modal("show"),r=!1)),1==o&&(r=!0)):($("#respecies-todas-modal").modal("show"),r=!1),1==r&&($("#empieza-busqueda").modal("show"),!0)}function muestraBorrarIdEspecie(){0==$("#especie_id").val()?$("#borrar_especie_id").addClass("hidden"):($("input#user_sabores").prop("checked",!1),$("#borrar_especie_id").removeClass("hidden"))}$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip(),$('a[href="#"]').click(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}),$("input#respecies-todas").click(function(e){muestraTodasLasEspecies()}),$("a#vaciar-posicion").click(function(e){e.preventDefault(),muestraTodaLaCiudad()}),$('input[type="radio"]').click(function(){"respecie"==$(this).attr("name")&&(0==$(this).attr("value")?$("#especies-lista").removeClass().addClass("hide"):$("#especies-lista").removeClass()),"rdonde"==$(this).attr("name")&&(0==$(this).attr("value")?muestraTodaLaCiudad():(scrollAnimado("#mapa"),muestraPorAca()))}),$("form#busca_arboles").submit(function(e){valida=validarBusqueda(),valida?$("form#busca_arboles").submit():e.preventDefault()}),$("nav a.scroll").on("click",function(e){e.preventDefault(),scrollAnimado(this.hash)}),$(".selectpicker").selectpicker({noneSelectedText:"No hay selecci√≥n",noneResultsText:"No hay resultados"}),muestraBorrarIdEspecie(),$("#especie_id").change(function(){muestraBorrarIdEspecie()}),$("#borrar_especie_id").click(function(e){e.preventDefault(),$("#especie_id").selectpicker("val",0)}),$("input#user_sabores").click(function(){1==$(this).prop("checked")&&$("#especie_id").selectpicker("val",0)})});