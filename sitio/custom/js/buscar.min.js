function muestraTodaLaCiudad(){$("input#user_latlng").val(null),$("input#rdonde-ciudad").prop("checked",!0),window.new_user_marker&&(window.map.removeLayer(window.new_user_marker),window.map.removeLayer(window.new_user_circle),window.new_user_marker=void 0,window.new_user_circle=void 0)}function muestraPorAca(a,i,o,r){$("input#rdonde-mapa").prop("checked",!0),a&&$("input#user_latlng").val(a+" "+i),o&&o.panTo(new L.LatLng(a,i)),r&&(valida=validarBusqueda(),valida?document.getElementById("busca_arboles").submit():e.preventDefault())}function scrollAnimado(e){$("html, body").animate({scrollTop:$(e).offset().top},300,function(){window.location.hash=e})}function validarBusqueda(){var e,a,i=!1,o=$("select#id_especie").val();o>0?(e=!0,a=!1):(e=!1,a=!0);var r=$("input#rdonde-mapa").prop("checked"),t=$("input#rdonde-ciudad").prop("checked"),n=$("input#user_latlng").val();if(1==e&&o>0)var s=!0;if(1==r&&n.length>1)var c=!0;if(0==a||0==t)var d=!0;return 1==d?(1==e&&(1==s?i=!0:($("#respecies-una-modal").modal("show"),i=!1)),1==r&&(1==c?i=!0:($("#rdonde-ciudad-modal").modal("show"),i=!1))):($("#respecies-todas-modal").modal("show"),i=!1),1==i?($("#empieza-busqueda").modal("show"),!0):!1}function muestraBorrarIdEspecie(){0==$("#id_especie").val()?$("#borrar_id_especie").addClass("hidden"):$("#borrar_id_especie").removeClass("hidden")}$(document).ready(function(){$("input#respecies-todas").click(function(){muestraTodasLasEspecies()}),$("a#vaciar-posicion").click(function(e){e.preventDefault(),muestraTodaLaCiudad()}),$('input[type="radio"]').click(function(){"respecie"==$(this).attr("name")&&(0==$(this).attr("value")?$("#especies-lista").removeClass().addClass("hide"):$("#especies-lista").removeClass()),"rdonde"==$(this).attr("name")&&(0==$(this).attr("value")?muestraTodaLaCiudad():(scrollAnimado("#mapa"),muestraPorAca()))}),$("form#busca_arboles").submit(function(e){valida=validarBusqueda(),valida?$("form#busca_arboles").submit():e.preventDefault()}),$("nav a.scroll").on("click",function(e){e.preventDefault(),scrollAnimado(this.hash)}),$(".selectpicker").selectpicker({noneSelectedText:"No hay selecci√≥n",noneResultsText:"No hay resultados"}),muestraBorrarIdEspecie(),$("#id_especie").change(function(){muestraBorrarIdEspecie()}),$("#borrar_id_especie").click(function(e){e.preventDefault(),$("#id_especie").selectpicker("val",0)})});